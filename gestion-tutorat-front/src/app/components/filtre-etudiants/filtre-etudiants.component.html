<!-- BOUTON POUR AFFICHER LE FILTRE -->
<div class="filter-wrapper">
  <button class="menu-button" (click)="toggleFilter($event)">{{ 'AFFECT_MANUELLE.FILTER_STUDENTS' | translate }}</button>

  <!-- PANNEAU FLOTTANT -->
  <div class="floating-panel" *ngIf="testVisible" (click)="$event.stopPropagation()">
    <form (ngSubmit)="applyFilters()">
      <div class="filter-section">

        <!-- AFFECTATION -->
        <div class="filter">
          <label class="checkbox-container">
            <input type="checkbox" [(ngModel)]="showAffectation" name="showAffectation">
            <span class="checkmark"></span>
            {{ 'STUDENTS.ASSIGNED' | translate }}
          </label>
          <div *ngIf="showAffectation">
            <label>{{ 'STUDENTS.CHOOSE_ASSIGNMENT' | translate }} :</label>
            <select class="form-select" [(ngModel)]="selectedAffectation" name="affectation">
              <option *ngFor="let affectation of affectations" [value]="affectation">{{ affectation }}</option>
            </select>
          </div>
        </div>

        <!-- NOM & PRÉNOM -->
        <div class="filter">
          <label class="checkbox-container">
            <input type="checkbox" [(ngModel)]="showNom" name="showNom">
            <span class="checkmark"></span>
            {{ 'COMMON.LASTNAME' | translate }} & {{ 'COMMON.FIRSTNAME' | translate }}
          </label>
          <div *ngIf="showNom">
            <label>{{ 'COMMON.LASTNAME' | translate }} :</label>
            <input class="form-control" [(ngModel)]="lastNameFilter" name="lastName" type="text">
            <label>{{ 'COMMON.FIRSTNAME' | translate }} :</label>
            <input class="form-control" [(ngModel)]="firstNameFilter" name="firstName" type="text">
          </div>
        </div>

        <!-- CODE CLASSE -->
        <div class="filter">
          <label class="checkbox-container">
            <input type="checkbox" [(ngModel)]="showdep" name="showdep">
            <span class="checkmark"></span>
            {{ 'STUDENTS.CLASS_CODE' | translate }}
          </label>
          <div *ngIf="showdep">
            <label>{{ 'STUDENTS.CODE' | translate }} :</label>
            <select class="form-select" [(ngModel)]="selecteddep" name="codeClasse">
              <option *ngFor="let dep of codes" [value]="dep">{{ dep }}</option>
            </select>
          </div>
        </div>

        <!-- DÉPARTEMENT -->
        <div class="filter">
          <label class="checkbox-container">
            <input type="checkbox" [(ngModel)]="showdepartement" name="showdepartement">
            <span class="checkmark"></span>
            {{ 'STUDENTS.DEPARTMENT_ATTACHMENT' | translate }}
          </label>
          <div *ngIf="showdepartement">
            <label>{{ 'COMMON.DEPARTMENT' | translate }} :</label>
            <select class="form-select" [(ngModel)]="selecteddepartement" name="departement">
              <option *ngFor="let dep of departements" [value]="dep">{{ dep }}</option>
            </select>
          </div>
        </div>

        <!-- ACTIONS -->
        <div class="filter-actions">
          <button type="submit" class="btn btn-outline-primary btn-sm">{{ 'COMMON.SEARCH' | translate }}</button>
          <button type="button" class="btn btn-outline-dark btn-sm" (click)="reinitialiser()">{{ 'COMMON.RESET' | translate }}</button>
        </div>

      </div>
    </form>
  </div>
</div>
