<div class="container mt-4">
    <h2 class="form-title">{{ 'EDIT_STUDENT.TITLE' | translate }}</h2>
    <form [formGroup]="etudiantForm" (ngSubmit)="onSubmit()">
      <!-- Email École -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.EMAIL_SCHOOL' | translate }}</label>
        <input 
          type="email" 
          class="form-control" 
          formControlName="emailEcole" 
          [ngClass]="{'is-invalid': submitted && f['emailEcole'].errors}" />
        <div *ngIf="submitted && f['emailEcole'].errors" class="invalid-feedback">
          <div *ngIf="f['emailEcole'].errors['required']">{{ 'EDIT_STUDENT.REQUIRED' | translate }}</div>
          <div *ngIf="f['emailEcole'].errors['email']">{{ 'EDIT_STUDENT.INVALID_EMAIL' | translate }}</div>
        </div>
      </div>
      
      <!-- Origine -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.ORIGIN' | translate }}</label>
        <input 
          type="text" 
          class="form-control" 
          formControlName="origine" 
          [ngClass]="{'is-invalid': submitted && f['origine'].errors}" />
        <div *ngIf="submitted && f['origine'].errors" class="invalid-feedback">
          <div *ngIf="f['origine'].errors['required']">{{ 'EDIT_STUDENT.REQUIRED' | translate }}</div>
        </div>
      </div>
      
      <!-- École -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.SCHOOL' | translate }}</label>
        <input 
          type="text" 
          class="form-control" 
          formControlName="ecole" 
          [ngClass]="{'is-invalid': submitted && f['ecole'].errors}" />
        <div *ngIf="submitted && f['ecole'].errors" class="invalid-feedback">
          <div *ngIf="f['ecole'].errors['required']">{{ 'EDIT_STUDENT.REQUIRED' | translate }}</div>
        </div>
      </div>
      
      <!-- Prénom -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.FIRSTNAME' | translate }}</label>
        <input 
          type="text" 
          class="form-control" 
          formControlName="prenom" 
          [ngClass]="{'is-invalid': submitted && f['prenom'].errors}"
          (blur)="onNameBlur('prenom')" />
        <div *ngIf="submitted && f['prenom'].errors" class="invalid-feedback">
          <div *ngIf="f['prenom'].errors['required']">{{ 'EDIT_STUDENT.REQUIRED' | translate }}</div>
        </div>
      </div>
      
      <!-- Nom -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.LASTNAME' | translate }}</label>
        <input 
          type="text" 
          class="form-control" 
          formControlName="nom" 
          [ngClass]="{'is-invalid': submitted && f['nom'].errors}"
          (blur)="onNameBlur('nom')" />
        <div *ngIf="submitted && f['nom'].errors" class="invalid-feedback">
          <div *ngIf="f['nom'].errors['required']">{{ 'EDIT_STUDENT.REQUIRED' | translate }}</div>
        </div>
      </div>
      
      <!-- Obligation Internationale -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.INTERNATIONAL_OBLIGATION' | translate }}</label>
        <input 
          type="text" 
          class="form-control" 
          formControlName="obligationInternational" 
          [ngClass]="{'is-invalid': submitted && f['obligationInternational'].errors}" />
        <div *ngIf="submitted && f['obligationInternational'].errors" class="invalid-feedback">
          <div *ngIf="f['obligationInternational'].errors['required']">{{ 'EDIT_STUDENT.REQUIRED' | translate }}</div>
        </div>
      </div>
      
      <!-- Stage 1A -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.STAGE_1A' | translate }}</label>
        <input type="text" class="form-control" formControlName="stage1A" [ngClass]="{'is-invalid': submitted && f['stage1A'].errors}" />
        <div *ngIf="submitted && f['stage1A'].errors" class="invalid-feedback">
          <div *ngIf="f['stage1A'].errors['required']">{{ 'EDIT_STUDENT.REQUIRED' | translate }}</div>
        </div>
      </div>
      
      <!-- Code Classe -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.CLASS_CODE' | translate }}</label>
        <input type="text" class="form-control" formControlName="codeClasse" [ngClass]="{'is-invalid': submitted && f['codeClasse'].errors}" />
        <div *ngIf="submitted && f['codeClasse'].errors" class="invalid-feedback">
          <div *ngIf="f['codeClasse'].errors['required']">{{ 'EDIT_STUDENT.REQUIRED' | translate }}</div>
        </div>
      </div>
      
      <!-- Nom Groupe -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.GROUP_NAME' | translate }}</label>
        <input type="text" class="form-control" formControlName="nomGroupe" [ngClass]="{'is-invalid': submitted && f['nomGroupe'].errors}" />
        <div *ngIf="submitted && f['nomGroupe'].errors" class="invalid-feedback">
          <div *ngIf="f['nomGroupe'].errors['required']">{{ 'EDIT_STUDENT.REQUIRED' | translate }}</div>
        </div>
      </div>
      
      <!-- Langue Majeure -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.MAJOR_LANGUAGE' | translate }}</label>
        <input type="text" class="form-control" formControlName="langueMajeure" [ngClass]="{'is-invalid': submitted && f['langueMajeure'].errors}" />
        <div *ngIf="submitted && f['langueMajeure'].errors" class="invalid-feedback">
          <div *ngIf="f['langueMajeure'].errors['required']">{{ 'EDIT_STUDENT.REQUIRED' | translate }}</div>
        </div>
      </div>
      
      <!-- INI / ALT -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.INI_ALT' | translate }}</label>
        <input type="text" class="form-control" formControlName="iniAlt" [ngClass]="{'is-invalid': submitted && f['iniAlt'].errors}" />
        <div *ngIf="submitted && f['iniAlt'].errors" class="invalid-feedback">
          <div *ngIf="f['iniAlt'].errors['required']">{{ 'EDIT_STUDENT.REQUIRED' | translate }}</div>
        </div>
      </div>
      
      <!-- Entreprise -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.COMPANY' | translate }}</label>
        <input type="text" class="form-control" formControlName="entreprise" />
      </div>
      
      <!-- Fonction Apprenti -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.APPRENTICE_FUNCTION' | translate }}</label>
        <input type="text" class="form-control" formControlName="fonctionApprenti" />
      </div>
      
      <!-- Langue -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.LANGUAGE' | translate }}</label>
        <input type="text" class="form-control" formControlName="langue" />
      </div>
      
      <!-- Commentaire Affectation -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.ASSIGNMENT_COMMENT' | translate }}</label>
        <input type="text" class="form-control" formControlName="commentaireAffectation" />
      </div>
      
      <!-- Département Rattachement -->
      <div class="mb-3">
        <label class="form-label">{{ 'EDIT_STUDENT.DEPARTMENT_ATTACHMENT' | translate }}</label>
        <input type="text" class="form-control" formControlName="departementRattachement" />
      </div>
      
      <!-- Bouton de validation -->
      <button class="btn btn-primary" type="submit">{{ 'EDIT_STUDENT.SUBMIT' | translate }}</button>
    </form>
    
    <div *ngIf="successMessage" class="alert alert-success mt-3">
      {{ successMessage }}
    </div>
  </div>
  